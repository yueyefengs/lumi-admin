重构以下功能
### manager-api 服务功能：

manager-api 是一个基于 SpringBoot 开发的后端服务，负责管理系统的核心业务逻辑和数据处理。主要功能模块包括：

1. **用户认证与管理**：
   - 登录/注册接口
   - 用户信息管理
   - 权限管理

2. **模型配置管理**：
   - 管理各类AI模型(LLM、TTS、ASR等)的配置
   - 提供模型列表、详情、添加、删除、更新等操作

3. **角色配置管理**：
   - 管理角色(Agent)的配置
   - 角色模板管理

4. **设备管理**：
   - 设备注册、绑定、解绑
   - OTA(固件更新)管理

5. **系统参数管理**：
   - 系统配置参数的管理
   - 全局设置

6. **音色管理**：
   - TTS音色的管理

### manager-api 对外提供的主要接口：

1. **用户相关**：
   - `/user/captcha` - 获取验证码
   - `/user/login` - 用户登录
   - `/user/register` - 用户注册
   - `/user/info` - 获取用户信息

2. **模型相关**：
   - `/models/names` - 获取模型名称列表
   - `/models/list` - 获取模型列表
   - `/models/{id}` - 获取模型详情
   - `/models/{modelId}/voices` - 获取模型音色

3. **角色相关**：
   - `/agent/list` - 获取角色列表
   - `/agent/all` - 获取所有角色
   - `/agent/{id}` - 获取角色详情
   - `/agent/template` - 获取角色模板

4. **设备相关**：
   - `/device/register` - 设备注册
   - `/device/bind/{agentId}/{deviceCode}` - 绑定设备
   - `/device/unbind` - 解绑设备

5. **系统管理**：
   - `/admin/params/page` - 获取参数列表
   - `/admin/users` - 获取用户列表

6. **配置相关**：
   - `/config/server-base` - 服务器基础配置
   - `/config/agent-models` - 获取Agent模型配置
####核心功能
├── 用户权限体系
│   ├── Shiro权限控制
│   ├── 用户登录/注册
│   ├── 角色权限管理
├── 数据管理
│   ├── MySQL数据库操作（MyBatis Plus）
│   ├── Redis缓存管理
│   ├── 数据版本控制（Liquibase）
├── 系统管理
│   ├── 参数配置管理（server.secret等）
│   ├── 操作日志记录（@LogOperation）
│   ├── 数据权限过滤（@DataFilter）
├── 模型管理
│   ├── 大语言模型配置（智谱AI等）
│   ├── 语音模型管理
│   ├── TTS引擎配置
├── 设备管理
│   ├── ESP32设备绑定
│   ├── OTA固件升级接口
│   ├── 设备状态监控

### manager-web 服务功能：

manager-web 是基于 Vue 开发的前端服务，提供管理系统的用户界面，通过 API 调用 manager-api 的后端接口。主要功能模块包括：

1. **用户界面**：
   - 登录/注册页面
   - 首页(角色管理)
   - 角色配置页面
   - 模型配置页面
   - 参数管理页面
   - 用户管理页面
   - 设备管理页面

2. **API 调用**：
   - 通过封装的 API 模块调用后端接口

### manager-web 对外提供的功能：

manager-web 作为前端服务，主要是提供用户界面，不直接对外提供 API 接口，而是通过浏览器向用户提供以下功能：

1. **用户管理界面**：管理系统用户、权限
2. **角色配置界面**：配置角色属性、模型选择
3. **模型配置界面**：管理 LLM、TTS、ASR 等 AI 模型的配置
4. **参数管理界面**：管理系统全局参数
5. **设备管理界面**
####核心功能
├── 用户界面
│   ├── 登录/注册界面
│   ├── 仪表盘数据展示
├── 系统管理
│   ├── 用户管理（列表/权限分配）
│   ├── 参数配置界面
│   ├── 操作日志查看
├── 模型管理
│   ├── 大语言模型配置界面
│   ├── 语音模型管理界面
│   ├── TTS引擎配置界面
├── 设备管理
│   ├── 设备绑定界面
│   ├── 固件升级管理
│   ├── 设备状态监控面板
├── 智能体配置
│   ├── 对话策略设置
│   ├── 唤醒词配置
│   ├── 响应参数调整
graph LR
    A[manager-web] -->|HTTP API| B(manager-api)
    B -->|管理配置| C[xiaozhi-server]
    C -->|Websocket| D[ESP32硬件]
    D -->|音频流| C
    C -->|调用| E[大语言模型]
    C -->|调用| F[TTS服务]
总结：manager-api 提供后端业务逻辑和 API 接口，manager-web 提供前端界面，两者共同构成了完整的管理系统，用于管理小智服务端的各项配置和功能。

重构要求：
- 使用Next.js进行重构
- api和web项目有的功能都要实现
- ui界面使用当前主流的管理后台ui
- 支持docker启动，MySQL数据库要初始化数据，保证系统可以正常启动
- 端口和路由不变
- 合理规划配置文件，写入启动所必须的配置项，
请按要求生成完整代码，并确保可以用于实际开发